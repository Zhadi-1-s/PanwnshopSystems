<!-- Layout with sidebar -->
<div *ngIf="!isAuthPage()" class="flex min-h-screen">
  <aside class="flex-shrink-0">
    <!-- Added event listener for sidebar toggle -->
    <app-navbar (sidebarToggled)="onSidebarToggle($event)"></app-navbar>
  </aside>
  <!-- Main content adjusts margin based on sidebar state -->
  <div 
    class="flex-1 flex flex-col transition-all duration-300"
    [class.ml-64]="sidebarOpen"
    [class.ml-0]="!sidebarOpen"
  >
    <main class="flex-1 overflow-auto p-0">
      <router-outlet></router-outlet>
    </main>
    <app-footer></app-footer>
  </div>
</div>

<!-- Layout without sidebar -->
<div *ngIf="isAuthPage()" class="flex flex-col min-h-screen">
  <main class="flex-1 overflow-auto p-0">
    <router-outlet></router-outlet>
  </main>
</div>

